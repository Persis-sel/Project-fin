# üìä Telegram-–±–æ—Ç –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —É—á—ë—Ç–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è  
**Pet-–ø—Ä–æ–µ–∫—Ç | Python + SQLite + pandas + matplotlib | Production-ready**

> üéØ *–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞*: –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—á—ë—Ç –ª–∏—á–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ç—ã –∏ —Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã ‚Äî –≤ —É–¥–æ–±–Ω–æ–º Telegram-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑—á–∏–∫–∞ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)

### 1. **–£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤**
- ‚úÖ –í–≤–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Ä—É—á–Ω—É—é:
  - —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π (`/now`);
  - —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–∞—Ç–æ–π (`–î–î.–ú–ú.–ì–ì–ì–ì`);
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 12 –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
  - **–î–æ—Ö–æ–¥—ã**: `–ó–ø`, `–ó–ø –¥–æ–ø`, `–ü—Ä–∏–±—ã–ª—å`;
  - **–†–∞—Å—Ö–æ–¥—ã**: `–ü—Ä–æ–¥—É–∫—Ç—ã`, `–ö–≤–∞—Ä—Ç–∏—Ä–∞`, `–ú–∞—à–∏–Ω–∞`, `–õ–∏—á–Ω—ã–µ —Ç—Ä–∞—Ç—ã`, `–û–¥–µ–∂–¥–∞`, `–†–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ`, `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ`, `–ü–µ—Ä–µ–≤–æ–¥`, `–ü–æ—Ç–µ—Ä–∏`;
- ‚úÖ –î–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ –ë–î (–∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫);
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ–ø–µ—Ä–∞—Ü–∏—è–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ);
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ SQLite (`Prog_bots.db`).

---

### 2. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ **–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π** (`Œ£–î–æ—Ö–æ–¥—ã ‚àí Œ£–†–∞—Å—Ö–æ–¥—ã`) –∏ **—Ç—Ä–∞—Ç** (—Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ö–æ–¥—ã);
- ‚úÖ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è:
  - –ø–æ –º–µ—Å—è—Ü–∞–º (—Å—Ç–æ–ª–±—á–∞—Ç—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏);
  - –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (—Ç–∞–±–ª–∏—Ü—ã + barh-–≥—Ä–∞—Ñ–∏–∫–∏);
  - –ø–æ –ª–∏—Ü–∞–º (`–ó–ø` / `–ó–ø –¥–æ–ø`);
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏ –ø—Ä–æ—à–ª–æ–≥–æ –º–µ—Å—è—Ü–µ–≤;
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è:
  - —Å–µ–≥–æ–¥–Ω—è / –≤—á–µ—Ä–∞ / –Ω–µ–¥–µ–ª—è / –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (`–î–î.–ú–ú.–ì–ì–ì–ì ‚Äî –î–î.–ú–ú.–ì–ì–ì–ì`);
  - —Ç–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—á–∏—Ç–∞–µ–º–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö);

---

### 3. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ø–ª–∞–Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (`Prog_bots2.db`);
- ‚úÖ –ê–Ω–∞–ª–∏–∑ **–ü–ª–∞–Ω/–§–∞–∫—Ç**:
  - JOIN –¥–≤—É—Ö –ë–î —á–µ—Ä–µ–∑ `ATTACH DATABASE`;
  - —Ä–∞—Å—á—ë—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π (`–ü–ª–∞–Ω ‚àí –§–∞–∫—Ç`);
  - –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ `–ò–¢–û–ì–û`;
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞:
  - –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥—Ä—É–ø–ø—ã;
  - –ø–æ ID –∑–∞–ø–∏—Å–∏;
  - —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### 4. **–§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞)**
#### üîπ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ (`prog_fiks`)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç:
  - –µ–∂–µ–º–µ—Å—è—á–Ω—É—é –ø—Ä–∏–±—ã–ª—å;
  - –µ–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ç—Ä–∞—Ç—ã;
  - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–æ–º–∞–ª–∏–π (–∫–æ–ª-–≤–æ, –º–∏–Ω/–º–∞–∫—Å —Å—É–º–º–∞);
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è:
  - 1‚Äì12 —Å–ª—É—á–∞–π–Ω—ã—Ö ¬´–∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö¬ª –º–µ—Å—è—Ü–µ–≤;
  - —Å–ª—É—á–∞–π–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞;
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:  
  ‚Üí –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ + —Ç–∞–±–ª–∏—á–Ω–∞—è –ª–µ–≥–µ–Ω–¥–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º `K`/`M` (—Ç—ã—Å—è—á–∏/–º–∏–ª–ª–∏–æ–Ω—ã).

#### üîπ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ (`prog_dinam`) ‚Äî 3 –º–µ—Ç–æ–¥–∞
| –ú–µ—Ç–æ–¥ | –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–∏–±—ã–ª–∏ | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π |
|------|------------------------|--------------------|
| **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π** | –ú–æ–¥–∞ –ø–µ—Ä–≤–æ–π —Ü–∏—Ñ—Ä—ã –ó–ü –ù–∏–∫–∏—Ç—ã + –º–µ–¥–∏–∞–Ω–∞ –ó–ü –¥–æ–ø | –ú–µ–¥–∏–∞–Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è —Ñ–∞–∫—Ç–∞ –Ω–∞–¥ –ø–ª–∞–Ω–æ–º √ó —á–∞—Å—Ç–æ—Ç–∞ √ó 0.6 (–º–∞–∫—Å 50%) |
| **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π** | –ü—Ä–∏–±—ã–ª—å ‚àí15% | –ö–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º |
| **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π** | –ó–ü + —Ä–æ—Å—Ç 40‚Äì70% (—Å–ª—É—á–∞–π–Ω–æ), –ó–ü –¥–æ–ø –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | –ö–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º |

> üìå –£—á—ë—Ç —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—è—Ü–µ (—á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å).  
> üìå –í—Å–µ –ø—Ä–æ–≥–Ω–æ–∑—ã ‚Äî —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ).

---

### 5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏**
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π:
  - –ø–æ ID (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è);
  - –ø–æ –¥–∞—Ç–µ (–≤—Å–µ –∑–∞–ø–∏—Å–∏ –∑–∞ –¥–µ–Ω—å);
- ‚úÖ –û—Ç–º–µ–Ω–∞ –ª—é–±–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:
  - –∫–Ω–æ–ø–∫–∞ `Stop`;
  - –∫–æ–º–∞–Ω–¥–∞ `/stop`;
  - —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

### 6. **UX / UI**
- ‚úÖ **–ì–æ—Ä—è—á–∏–µ —Å–ª–æ–≤–∞** (–±–µ–∑ `/`): `–º–µ–Ω—é`, `–±–∞–Ω–∫`, `—Ç—Ä–∞—Ç—ã`, `–≤–Ω–µ—Å—Ç–∏`, `–∏—Å—Ç–æ—Ä–∏—è`;
- ‚úÖ **Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞**: `Menu` / `Stop` ‚Äî –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞;
- ‚úÖ **Inline-–º–µ–Ω—é** —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π:
–ì–ª–∞–≤–Ω–æ–µ ‚Üí –ë—é–¥–∂–µ—Ç ‚Üí –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è ‚Üí [—Å—É–º–º–∞ / –ø–æ –º–µ—Å—è—Ü–∞–º / –ø–æ –ª–∏—Ü–∞–º]
‚Üí –¢—Ä–∞—Ç—ã ‚Üí [—Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü / –∑–∞ 6 –º–µ—Å. / –ø–æ –≥—Ä—É–ø–ø–µ]

- ‚úÖ –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª: `123 456.78`;
- ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã ‚Äî –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–≥–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ iOS/Android);
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–∞–Ω–¥ `/help`, `/help1`, `/help2`.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –°—Ç–µ–∫
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|----------|------------|
| –Ø–∑—ã–∫ | Python 3.8+ |
| –ë–æ—Ç | `pyTelegramBotAPI` (telebot) |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | SQLite (2 —Ñ–∞–π–ª–∞: —Ñ–∞–∫—Ç—ã + –ø–ª–∞–Ω) |
| –ê–Ω–∞–ª–∏–∑ | `pandas`, `numpy` |
| –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è | `matplotlib`, `seaborn` (`Agg` backend) |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | `logging` (—Ñ–∞–π–ª + stdout) |
| –î–µ–ø–ª–æ–π | Linux, auto-restart —á–µ—Ä–µ–∑ `while true`, exponential backoff |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### üî∏ –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```sql
-- sav_bot1 (—Ñ–∞–∫—Ç—ã)
CREATE TABLE sav_bot1 (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
Date TEXT,          -- YYYY-MM-DD
Groupe TEXT,        -- '–ó–ø', '–ü—Ä–æ–¥—É–∫—Ç—ã' ...
Price REAL,
Description TEXT
);

-- sav_bot_rs (–ø–ª–∞–Ω)
CREATE TABLE sav_bot_rs (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
Groupe TEXT,
Plan REAL
);


üî∏ –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è FSM (–±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫):
user_data[user_id] ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≥—Ä—É–ø–ø–∞, —Å—É–º–º–∞, –¥–∞—Ç–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π);
user_states[user_id] ‚Äî —Ñ–ª–∞–≥–∏ (waiting_for_date, active, stage);
–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å —á–µ—Ä–µ–∑ /stop –∏–ª–∏ –∫–Ω–æ–ø–∫—É Stop.
üî∏ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
–í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏:
plt.tight_layout();
bbox_inches='tight';
dpi=150‚Äì300;
—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ BytesIO ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ —Ñ–æ—Ç–æ;
–¢–∞–±–ª–∏—Ü—ã:
plt.table() + —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è (—Ü–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞);
–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü.
üî∏ –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö (–¥–æ 15 –ø–æ–ø—ã—Ç–æ–∫, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞);
‚úÖ –û–±–Ω—É–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ –ø–æ–ø—ã—Ç–æ–∫ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ –ø—Ä–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ;
‚úÖ try/except/finally –¥–ª—è –≤—Å–µ—Ö –ë–î-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π;
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –≤ bot.log.

---

## üìà –ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫

SELECT 
  SUM(Price) FILTER(WHERE Groupe IN ('–ó–ø','–ó–ø –¥–æ–ø','–ü—Ä–∏–±—ã–ª—å')) 
  - SUM(Price) FILTER(WHERE Groupe NOT IN (...)) AS –°—É–º–º–∞ 
FROM sav_bot1;

–ü—Ä–∏–±—ã–ª—å –ø–æ –ª–∏—Ü–∞–º –∑–∞ 7 –º–µ—Å—è—Ü–µ–≤
SELECT 
  strftime('%Y-%m', Date) AS month_year, 
  Groupe, 
  SUM(Price) 
FROM sav_bot1
WHERE Date >= DATE('now', '-7 months')
  AND Groupe IN ('–ó–ø', '–ó–ø –¥–æ–ø')
GROUP BY month_year, Groupe;

–ü–ª–∞–Ω/–§–∞–∫—Ç —Å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ–º
SELECT 
  p.Groupe,
  p.Plan,
  COALESCE(f.Fact, 0) AS Fact,
  p.Plan - f.Fact AS Deviation
FROM db2.sav_bot_rs p
LEFT JOIN (
  SELECT Groupe, SUM(Price) AS Fact 
  FROM sav_bot1 
  WHERE strftime('%Y-%m', Date) = strftime('%Y-%m', 'now')
  GROUP BY Groupe
) f ON p.Groupe = f.Groupe;

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è (requirements.txt)
pyTelegramBotAPI==4.21.0
pandas==2.2.2
matplotlib==3.9.0
seaborn==0.13.2
numpy==2.0.0
tabulate==0.9.0
python-dateutil==2.9.0

üìê –°—Ö–µ–º–∞ –ë–î (–¥–ª—è dbdiagram.io )
Table sav_bot1 {
  ID Integer [primary key, increment]
  Date Text [note: 'YYYY-MM-DD']
  Groupe Text
  Price Real
  Description Text
}

Table sav_bot_rs {
  ID Integer [primary key, increment]
  Groupe Text
  Plan Real
}

Ref: sav_bot_rs.Groupe > sav_bot1.Groupe [optional]

---


##üí° –ó–∞–∫–ª—é—á–µ–Ω–∏–µ (–¥–ª—è —Ä–µ–∑—é–º–µ)
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ pet-–ø—Ä–æ–µ–∫—Ç —Å –Ω—É–ª—è, –Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç production-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º:
‚Äî –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (auto-restart, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff);
‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞);
‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤ –ø—Ä–æ–≥–Ω–æ–∑–∞—Ö: –º–µ–¥–∏–∞–Ω–∞, –º–æ–¥–∞, —á–∞—Å—Ç–æ—Ç–∞);
‚Äî UX (–≥–æ—Ä—è—á–∏–µ —Å–ª–æ–≤–∞, –º–æ–±–∏–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è, –∏–µ—Ä–∞—Ä—Ö–∏—è –º–µ–Ω—é).

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤. –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º (API, Excel, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è). 

---